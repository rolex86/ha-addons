name: Spotify Playlist Builder
slug: spotify-playlists
description: Generate/update Spotify playlists from recipes (no-repeat history), triggered via HA automation.
version: "0.1.1"
url: https://github.com/rolex86/ha-addons
arch:
  - aarch64
  - amd64
  - armv7
  - i386
startup: services
init: false

ports:
  7790/tcp: 7790

ports_description:
  7790/tcp: Config UI + API

map:
  - data:rw

options:
  port: 7790
  base_url: "http://homeassistant.local:7790"
  api_token: ""
  spotify_client_id: ""
  spotify_client_secret: ""
  spotify_redirect_uri: "http://homeassistant.local:7790/api/auth/callback"
  market: "CZ"
  log_level: "info"
  history:
    scope: "per_recipe" # per_recipe | global
    mode: "rolling_days" # rolling_days | lifetime_capped
    rolling_days: 90
    lifetime_cap: 20000

schema:
  port: int(1,65535)
  base_url: str
  api_token: str
  spotify_client_id: str
  spotify_client_secret: password
  spotify_redirect_uri: str
  market: str
  log_level: list(trace|debug|info|warn|error)
  history:
    scope: list(per_recipe|global)
    mode: list(rolling_days|lifetime_capped)
    rolling_days: int(1,3650)
    lifetime_cap: int(1000,1000000)
